{"version":3,"sources":["index.js"],"names":["lists","_id","text","done","count","length","refresh","console","log","html","i","list","document","querySelector","innerHTML","dones","querySelectorAll","onclick","toggleDone","Number","parentNode","id","replace","deletes","deleteItem","addItem","push","filter","map","window","addEventListener","texts","focus"],"mappings":"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","file":"todo-parcel.e31bb0bc.js","sourceRoot":"..","sourcesContent":["let lists = [\r\n  {\r\n    _id: 1,\r\n    text: 'first item',\r\n    done: false,\r\n  },\r\n  {\r\n    _id: 2,\r\n    text: 'second item',\r\n    done: true,\r\n  },\r\n]\r\n\r\nlet count = lists.length\r\n\r\nfunction refresh() {\r\n  console.log('refresh')\r\n  //리스트 그리기\r\n  let html = ''\r\n  for (let i of lists) {\r\n    html += `<div id=\"item_${i._id}\" class=\"item ${i.done}\">\r\n    <div class=\"button done hover ${i.done}\"></div>\r\n      <div class=\"text\"><textarea class=\"${i.done}\">${i.text}</textarea></div>\r\n      <div class=\"button delete hover\">-</div>\r\n    </div>`\r\n  }\r\n  const list = document.querySelector('.lists')\r\n  if (list) list.innerHTML = html\r\n\r\n  //done 이벤트 추가\r\n  const dones = document.querySelectorAll('.done')\r\n  for (let i of dones) {\r\n    i.onclick = function () {\r\n      toggleDone(Number(i.parentNode.id.replace('item_', '')))\r\n      refresh()\r\n    }\r\n  }\r\n\r\n  //delete 이벤트 추가\r\n  const deletes = document.querySelectorAll('.delete')\r\n  for (let i of deletes) {\r\n    i.onclick = function () {\r\n      deleteItem(Number(i.parentNode.id.replace('item_', '')))\r\n      refresh()\r\n    }\r\n  }\r\n}\r\n\r\n//add버튼 클릭하면 item 추가하고 focus\r\nfunction addItem() {\r\n  count++\r\n  lists.push({\r\n    _id: count,\r\n    text: '',\r\n    done: false,\r\n  })\r\n}\r\n\r\n//삭제 클릭하면 item 삭제\r\nfunction deleteItem(_id) {\r\n  lists = lists.filter(i => i._id !== _id)\r\n}\r\n\r\n//done 클릭하면 item의 스타일 변경\r\nfunction toggleDone(_id) {\r\n  lists = lists.map((i) => (i._id === _id ? { ...i, done: !i.done } : i))\r\n}\r\n\r\nwindow.addEventListener('load', function () {\r\n  refresh()\r\n\r\n  document.querySelector('.add').onclick = function () {\r\n    addItem()\r\n    refresh()\r\n    const texts = document.querySelectorAll('textarea')\r\n    texts[texts.length -1].focus()\r\n  }\r\n})\r\n"]}