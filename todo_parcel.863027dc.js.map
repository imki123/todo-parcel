{"version":3,"sources":["index.js"],"names":["lists","_id","text","done","count","length","refresh","console","log","html","i","list","document","querySelector","innerHTML","dones","querySelectorAll","onclick","toggleDone","Number","parentNode","id","replace","deletes","deleteItem","texts","onchange","changeText","addItem","push","filter","map","textEl","value","window","addEventListener","focus"],"mappings":"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","file":"todo_parcel.863027dc.js","sourceRoot":"..","sourcesContent":["let lists = [\r\n  {\r\n    _id: 1,\r\n    text: 'first item',\r\n    done: false,\r\n  },\r\n  {\r\n    _id: 2,\r\n    text: 'second item',\r\n    done: true,\r\n  },\r\n]\r\n\r\nlet count = lists.length\r\n\r\nfunction refresh() {\r\n  console.log('refresh')\r\n  //리스트 그리기\r\n  let html = ''\r\n  for (let i of lists) {\r\n    html += `<div id=\"item_${i._id}\" class=\"item ${i.done}\">\r\n    <div class=\"button done hover ${i.done}\"></div>\r\n      <div class=\"text\"><textarea class=\"${i.done}\">${i.text}</textarea></div>\r\n      <div class=\"button delete hover\">-</div>\r\n    </div>`\r\n  }\r\n  const list = document.querySelector('.lists')\r\n  if (list) list.innerHTML = html\r\n\r\n  //done 이벤트 추가\r\n  const dones = document.querySelectorAll('.done')\r\n  for (let i of dones) {\r\n    i.onclick = function () {\r\n      toggleDone(Number(i.parentNode.id.replace('item_', '')))\r\n    }\r\n  }\r\n\r\n  //delete 이벤트 추가\r\n  const deletes = document.querySelectorAll('.delete')\r\n  for (let i of deletes) {\r\n    i.onclick = function () {\r\n      deleteItem(Number(i.parentNode.id.replace('item_', '')))\r\n    }\r\n  }\r\n\r\n  //textarea onchange 이벤트 시 lists 업데이트\r\n  const texts = document.querySelectorAll('textarea')\r\n  for (let i of texts) {\r\n    i.onchange = function () {\r\n      changeText(Number(i.parentNode.parentNode.id.replace('item_', '')))\r\n    }\r\n  }\r\n}\r\n\r\n//add버튼 클릭하면 item 추가하고 focus\r\nfunction addItem() {\r\n  count++\r\n  lists.push({\r\n    _id: count,\r\n    text: '',\r\n    done: false,\r\n  })\r\n}\r\n\r\n//삭제 클릭하면 item 삭제하고 refresh()\r\nfunction deleteItem(_id) {\r\n  lists = lists.filter((i) => i._id !== _id)\r\n  refresh()\r\n}\r\n\r\n//done 클릭하면 item의 스타일 변경하고 refresh()\r\nfunction toggleDone(_id) {\r\n  console.log(_id)\r\n  lists = lists.map((i) => (i._id === _id ? { ...i, done: !i.done } : i))\r\n  refresh()\r\n}\r\n\r\n//textarea 변경되면 lists 변경\r\nfunction changeText(_id) {\r\n  const textEl = document.querySelector(`#item_${_id}`)\r\n  let text = ''\r\n  if (textEl) text = textEl.querySelector('textarea').value\r\n  console.log(text)\r\n  lists = lists.map((i) => (i._id === _id ? { ...i, text: text } : i))\r\n}\r\n\r\nwindow.addEventListener('load', function () {\r\n  refresh()\r\n\r\n  document.querySelector('.add').onclick = function () {\r\n    addItem()\r\n    refresh()\r\n    const texts = document.querySelectorAll('textarea')\r\n    texts[texts.length - 1].focus()\r\n  }\r\n})\r\n"]}